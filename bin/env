#!/bin/bash

SCRIPT_DIR=$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )

# Allas specific env vars
export AWS_S3_ENDPOINT="a3s.fi"
export PATH="$PATH:/appl/opt/csc-tools/allas-cli-utils"
export RCLONE_CONFIG="$HOME/.config/rclone/ood.conf"

# Avoid user packages conflicting
export PYTHONNOUSERSITE=1

version="$(python3 -Ic 'import sys;v=sys.version_info;print(f"{v.major}.{v.minor}")')"

# Python packages installed to <approot>/deps
export PATH="$SCRIPT_DIR:$(pwd)/deps/bin:$PATH"
export PYTHONPATH="$(pwd)/deps/lib/python$version/site-packages:$(pwd)/deps/lib64/python$version/site-packages:$PYTHONPATH"

